var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},c=Object.create(new $jscomp.global.Proxy(a,{get:function(d,e,g){return d==a&&"q"==e&&g==c}}));return!0===c.q}catch(d){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};
$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+c++,d)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};$jscomp.polyfill=function(a,c,d,e){if(c){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var g=a[e];g in d||(d[g]={});d=d[g]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("WeakMap",function(a){function c(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),b=Object.seal({}),c=new a([[k,2],[b,3]]);if(2!=c.get(k)||3!=c.get(b))return!1;c.delete(k);c.set(b,4);return!c.has(k)&&4==c.get(b)}catch(p){return!1}}function d(){}function e(b){var a=typeof b;return"object"===a&&null!==b||"function"===a}function g(b){if(!$jscomp.owns(b,f)){var a=new d;$jscomp.defineProperty(b,f,{value:a})}}function h(b){var a=Object[b];a&&(Object[b]=function(b){if(b instanceof
d)return b;g(b);return a(b)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var f="$jscomp_hidden_"+Math.random();h("freeze");h("preventExtensions");h("seal");var n=0,b=function(b){this.id_=(n+=Math.random()+1).toString();if(b){b=$jscomp.makeIterator(b);for(var a;!(a=b.next()).done;)a=a.value,this.set(a[0],a[1])}};b.prototype.set=function(b,a){if(!e(b))throw Error("Invalid WeakMap key");g(b);if(!$jscomp.owns(b,f))throw Error("WeakMap key fail: "+
b);b[f][this.id_]=a;return this};b.prototype.get=function(b){return e(b)&&$jscomp.owns(b,f)?b[f][this.id_]:void 0};b.prototype.has=function(b){return e(b)&&$jscomp.owns(b,f)&&$jscomp.owns(b[f],this.id_)};b.prototype.delete=function(b){return e(b)&&$jscomp.owns(b,f)&&$jscomp.owns(b[f],this.id_)?delete b[f][this.id_]:!1};return b},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var l=c.entries(),d=l.next();if(d.done||d.value[0]!=b||"s"!=d.value[1])return!1;d=l.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!l.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;$jscomp.initSymbolIterator();var d=new WeakMap,e=function(b){this.data_={};this.head_=f();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var a;!(a=b.next()).done;)a=a.value,this.set(a[0],a[1])}};e.prototype.set=function(b,a){b=0===b?0:b;var c=g(this,b);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=a:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:b,
value:a},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};e.prototype.delete=function(b){b=g(this,b);return b.entry&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.data_[b.id],b.entry.previous.next=b.entry.next,b.entry.next.previous=b.entry.previous,b.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};e.prototype.has=function(b){return!!g(this,b).entry};
e.prototype.get=function(b){return(b=g(this,b).entry)&&b.value};e.prototype.entries=function(){return h(this,function(b){return[b.key,b.value]})};e.prototype.keys=function(){return h(this,function(b){return b.key})};e.prototype.values=function(){return h(this,function(b){return b.value})};e.prototype.forEach=function(b,a){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,b.call(a,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var g=function(b,a){var c=a&&typeof a;"object"==
c||"function"==c?d.has(a)?c=d.get(a):(c=""+ ++n,d.set(a,c)):c="p_"+a;var e=b.data_[c];if(e&&$jscomp.owns(b.data_,c))for(b=0;b<e.length;b++){var f=e[b];if(a!==a&&f.key!==f.key||a===f.key)return{id:c,list:e,index:b,entry:f}}return{id:c,list:e,index:-1,entry:void 0}},h=function(b,a){var c=b.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=b.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:a(c)};c=null}return{done:!0,value:void 0}})},f=function(){var b={};return b.previous=
b.next=b.head=b},n=0;return e},"es6","es3");
var Common=function(){var a="B KB MB GB TB PB EB ZB YB".split(" ");return{renderSize:function(c){if(null==c||""==c)return"0 Bytes";var d=parseFloat(c);c=Math.floor(Math.log(d)/Math.log(1024));d/=Math.pow(1024,c);d=d.toFixed(2);return d+a[c]},removePostfix:function(a){var c=a.lastIndexOf(".");0<c&&(a=a.substring(0,c));return a},initTooltip:function(){$('[data-toggle="tooltip"]').tooltip()},writeCookie:function(a,d){$.cookie(a,d,{expires:9999})},cookieIfPresent:function(a,d){(a=$.cookie(a))&&d(a)},
render:function(a,d){a.content||(a.content=$(a.name).html().trim(),Mustache.parse(a.content));return Mustache.render(a.content,d)},ts:function(){return Math.round((new Date).getTime()/1E3).toString()}}}();$(function(){$.cookie.json=!0;toastr.options.closeButton=!0;Common.initTooltip()});
var Searcher=function(){function a(a,b){a=CryptoJS.AES.decrypt(a,b,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(a).toString()}function c(a,c,d){$.get("data/key",function(e){b=CryptoJS.enc.Utf8.parse(e);g(a,c,d)})}function d(c,d,e){$.get("data/list",function(f){k=a(f,b).split(",");g(c,d,e)})}function e(c,d,e){var f=k.length,g=0;k.forEach(function(m){if(l.has(m)){var r=l.get(m);n(c,m,r,d);h(++g,f,e)}else $.ajax({url:"https://cdn.jsdelivr.net/gh/"+m+"/index"}).done(function(e){e=
a(e,b).split(";").map(function(a,b){return a.split(",")});l.set(m,e);n(c,m,e,d)}).fail(function(a){toastr.error("\u8bf7\u6c42\u5f39\u5e55\u4ed3\u5e93\uff1a"+m+" \u65f6\uff0c\u53d1\u751f\u9519\u8bef\uff01");console.error(a)}).always(function(){++g==f&&e()})})}function g(a,f,g){b?k?e(a,f,g):d(a,f,g):c(a,f,g)}function h(a,b,c){a==b&&c()}function f(a){var b="\u672a\u77e5";a<q.length&&(b=q[a]);return b}function n(a,b,c,d){var e=[];c.forEach(function(c){var d=c[0];if(-1<d.toLowerCase().indexOf(a)){var g=
"https://cdn.jsdelivr.net/gh/"+b+"/"+c[3]+".7z";e.push({name:d,from:f(c[2]),length:c[1],operate:p,url:g})}});0<e.length&&d(e)}var b,k,l=new Map,q="bilibili \u4f18\u9177 \u7231\u5947\u827a \u817e\u8baf \u7b2c\u4e00\u5f39 \u52a8\u753b\u75af acfun \u641c\u72d0".split(" "),p=$("#button-download").html().trim();return{search:g}}();
$(function(){function a(a){a.forEach(function(a){0==a.name.indexOf("[\u5f39\u5e55\u5305]")&&$("#danmu-pkg").removeClass("d-none")});e.bootstrapTable("append",a);e.bootstrapTable("hideLoading")}function c(){e.bootstrapTable("hideLoading");h.attr("disabled",!1)}var d=$("#txt-keyword"),e=$("#table"),g=$("#ckb-copy"),h=$("#main-form");Common.cookieIfPresent("search",function(a){g.attr("checked",a.downloadCopy)});g.change(function(){var a=g.is(":checked");Common.writeCookie("search",{downloadCopy:a})});
$("#btn-search").click(function(){e.bootstrapTable("removeAll");var f=d.val().trim();0<f.length&&(h.attr("disabled",!0),e.bootstrapTable("showLoading"),Searcher.search(f.toLowerCase(),a,c))})});
